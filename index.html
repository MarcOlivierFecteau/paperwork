<!DOCTYPE html>
<html lang="fr-CA">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Paperwork | test</title>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="./toggleSwitch.css">
</head>

<body>
    <h2 id="form-title">Formulaire: remboursement d'achat</h2>
    <p id="revision-date">(Version 2024-05-02)</p>
    <form id="form" name="formulaireDemandeRemboursement">
        <fieldset id="entity-info">
            <legend>Informations de l'entité: </legend>
            <label for="entityType">Type de l'entité: </label>
            <select class="entitySelect" name="entityType" id="entityType" required></select><br>

            <label for="entityName">Nom de l'entité: </label>
            <select class="entitySelect" name="entityName" id="entityName" required></select>
        </fieldset>
        <script src="./javascript/dynamicEntitySelects.js"></script>

        <fieldset id="contact-info">
            <legend>Information de contact: </legend>
            <div class="contactPreset"> <!-- TODO: ajouter interactivité sur preset -->
                <label for="contactPreset">Préréglage: </label>
                <input type="radio" name="contactPreset" id="contactPreset_applicant" value="applicant" checked>
                <label for="contactPreset_applicant">Demandeur</label>
                <input type="radio" name="contactPreset" id="contactPreset_treasurer" value="treasurer">
                <label for="contactPreset_treasurer">Trésorier</label>
                <input type="radio" name="contactPreset" id="contactPreset_president" value="president">
                <label for="contactPreset_president">Président</label>
            </div>
            <label for="contactName">Nom, Prénom: </label>
            <input type="text" name="contactName" required
                pattern="([A-Z])\w+((-| )([A-Z])\w+)*, ([A-Z])\w+((-| )([A-Z])\w+)*">
            <br>
            <label for="email">Email: </label>
            <input type="email" name="contactEmail" required pattern="(\.|[a-z-])+(\.\d)?(@usherbrooke\.ca)"
                placeholder="prénom.nom@usherbrooke.ca">
            <label for="contactPhone">Téléphone: </label>
            <input type="tel" name="contactPhone" pattern="\d{3}-\d{3}-\d{4}" placeholder="999-999-9999" required>
        </fieldset>

        <fieldset id="payment-info">
            <legend>Informations du remboursement: </legend>
            <label for="applicantType">Type de l'entité: </label>
            <!-- <label class="switch">
                <input type="checkbox">
                <span class="slider round"></span>
            </label> -->
            <input type="radio" name="applicantType" id="applicantTypeStudent" value="student" checked
                onchange="changePaymentFields(this);">
            <label for="applicantTypeStudent">Étudiant</label>
            <input type="radio" name="applicantType" id="applicantTypeSupplier" onchange="changePaymentFields(this);"
                value="supplier">
            <label for="applicantTypeSupplier">Fournisseur</label>
            <br>

            <fieldset id="payment-info-fields"></fieldset>
            <script src="./javascript/dynamicPaymentFields.js"></script>

            <label for="purchaseAmount">Montant à rembourser: </label>
            <input type="text" name="purchaseAmount" pattern="\d+(,|\.)\d{2}" placeholder="99,99" required>
            <label for="currency">Devise: </label>
            <select name="currency" onchange="changeCurrencyFields(this)" required>
                <option value="CAD" selected>CAD</option>
                <option value="USD">USD</option>
                <option value="EUR">EUR</option>
                <option value="Autre">Autre</option>
            </select>
            <span id="dynamic-currency-fields"></span>
            <script src="./javascript/dynamicCurrencyFields.js"></script>

            <div>
                <label for="paymentMethod">Méthode de remboursement: </label>
                <input type="radio" name="paymentMethod" id="paymentMethod_1" value="AccesD" required>
                <label for="paymentMethod_1">AccèsD</label>
                <input type="radio" name="paymentMethod" id="paymentMethod_2" value="Cheque" required checked>
                <label for="paymentMethod_2">Chèque</label><br>

                <label for="isFinancingActivity">Activité de financement: </label>
                <input type="radio" name="isFinancingActivity" id="isFinancingActivity_yes" value="yes" required>
                <label for="isFinancingActivity_yes">Oui</label>
                <input type="radio" name="isFinancingActivity" id="isFinancingActivity_no" value="no" required checked>
                <label for="isFinancingActivity_no">Non</label><br>

                <label for="isRevenue">Revenu relié à la dépense: </label>
                <input type="radio" name="isRevenue" id="isRevenue_yes" value="yes" required>
                <label for="isRevenue_yes">Oui</label>
                <input type="radio" name="isRevenue" id="isRevenue_no" value="no" required checked>
                <label for="isRevenue_no">Non</label>
            </div>
            <label for="purchaseDate">Date de l'achat: </label>
            <input type="date" id="purchaseDate" name="purchaseDate" min="2024-01-01" max="2024-05-03" required />
            <!-- TODO: max=today() -->
        </fieldset>
        <fieldset>
            <legend>Information sur l'achat: </legend>
            <label for="projectOrActivityName">Projet/Activité (si connu): </label>
            <input type="text" name="projectOrActivityName"><br>

            <label for="purchaseDescription">Description de la dépense: </label>
            <textarea name="purchaseDescription" rows="3" cols="30"></textarea>
        </fieldset>
        <button type="submit"><strong>Soumettre</strong></button>
    </form>
</body>

</html>
